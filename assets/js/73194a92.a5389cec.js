"use strict";(globalThis.webpackChunkknowledge_core=globalThis.webpackChunkknowledge_core||[]).push([[3035],{630:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"essential-dev-utils/bash-cmd/utils","title":"Utils Bash Commands","description":"Running a Test Multiple Times in Sequence","source":"@site/docs/essential-dev-utils/bash-cmd/utils.md","sourceDirName":"essential-dev-utils/bash-cmd","slug":"/essential-dev-utils/bash-cmd/utils","permalink":"/knowledge-core/docs/essential-dev-utils/bash-cmd/utils","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/essential-dev-utils/bash-cmd/utils.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Utils Bash Commands","sidebar_label":"Utils"},"sidebar":"tutorialSidebar","previous":{"title":"Bash","permalink":"/knowledge-core/docs/category/bash"},"next":{"title":"Cron Jobs","permalink":"/knowledge-core/docs/category/cron-jobs"}}');var t=n(4848),r=n(8453);const o={sidebar_position:1,title:"Utils Bash Commands",sidebar_label:"Utils"},a=void 0,l={},c=[{value:"Running a Test Multiple Times in Sequence",id:"running-a-test-multiple-times-in-sequence",level:2},{value:"Explanation",id:"explanation",level:3},{value:"Audit Command",id:"audit-command",level:2},{value:"Explanation",id:"explanation-1",level:3},{value:"Recursive Text Search",id:"recursive-text-search",level:2},{value:"Explanation",id:"explanation-2",level:3}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"running-a-test-multiple-times-in-sequence",children:"Running a Test Multiple Times in Sequence"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"for i in {1..10}; do npm run test test/index.test.ts; done \n"})}),"\n",(0,t.jsx)(s.h3,{id:"explanation",children:"Explanation"}),"\n",(0,t.jsx)(s.p,{children:"This command executes a specific test script in your project multiple times in succession. It is useful when you need to validate the stability of the test or ensure consistent results over several runs. Below is a breakdown of the command:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"for i in {1..10}"}),": This loop iterates 10 times, where i takes values from 1 to 10."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"npm run test test/index.test.ts"}),": Runs the specified test file (index.test.ts) using the npm command, which is common in Node.js projects."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"done"}),": Marks the end of the loop, causing the test to be run again until the loop completes all 10 iterations."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"This approach can be applied when conducting repetitive tests for reliability purposes or to observe any fluctuations in performance across multiple runs."}),"\n",(0,t.jsx)(s.h2,{id:"audit-command",children:"Audit Command"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"npm run users users.txt | tee audit_$(date +'%Y%m%d%H%M%S').txt\n"})}),"\n",(0,t.jsx)(s.h3,{id:"explanation-1",children:"Explanation"}),"\n",(0,t.jsx)(s.p,{children:"This command runs a task in a Node.js environment: processing user imports. It then captures the output of the user import process into a timestamped file for auditing purposes. Below is a detailed breakdown of the command:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"npm run users users.txt"}),": Runs the ",(0,t.jsx)(s.code,{children:"users"})," script, passing ",(0,t.jsx)(s.code,{children:"users.txt"})," as an argument. This script likely handles the import or processing of users from the provided file."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"| tee"}),": Pipes the output of the ",(0,t.jsx)(s.code,{children:"users"})," command and writes it both to the console and to the specified file."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"audit_import_users_$(date +'%Y%m%d%H%M%S').txt"}),": Creates a log file named with a timestamp (in the format ",(0,t.jsx)(s.code,{children:"YYYYMMDDHHMMSS"}),"), storing the output for later review or auditing. The ",(0,t.jsx)(s.code,{children:"date"})," command dynamically generates the timestamp to ensure each audit file has a unique name."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"This approach ensures that user imports are tracked and verifiable, which is critical for auditing and troubleshooting in production environments."}),"\n",(0,t.jsx)(s.h2,{id:"recursive-text-search",children:"Recursive Text Search"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'grep -r "nanoid" . --exclude-dir=node_modules --exclude=package-lock.json\n'})}),"\n",(0,t.jsx)(s.h3,{id:"explanation-2",children:"Explanation"}),"\n",(0,t.jsx)(s.p,{children:'This command searches for a specific string (in this case, "nanoid") recursively throughout the current directory, while explicitly ignoring specific directories and files to avoid unnecessary noise. Below is a breakdown of the command:'}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:'grep -r "nanoid" .'}),": Uses the ",(0,t.jsx)(s.code,{children:"grep"})," tool to search recursively (",(0,t.jsx)(s.code,{children:"-r"}),') for the text "nanoid" starting from the current directory (',(0,t.jsx)(s.code,{children:"."}),")."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"--exclude-dir=node_modules"}),": Excludes the ",(0,t.jsx)(s.code,{children:"node_modules"})," folder from the search, which is crucial for performance as it prevents scanning thousands of library files."]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"--exclude=package-lock.json"}),": Excludes the ",(0,t.jsx)(s.code,{children:"package-lock.json"})," file, ensuring that the results focus on your actual source code usage rather than dependency definitions."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"This is extremely useful when refactoring or checking where a specific library or variable is referenced in your codebase, ensuring clean results by ignoring generated or dependency-heavy files."})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>a});var i=n(6540);const t={},r=i.createContext(t);function o(e){const s=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);